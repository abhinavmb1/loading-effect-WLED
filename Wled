#include <FastLED.h>

#define NUM_LEDS 8   // Define the number of LEDs in your strip
#define DATA_PIN 13
#define TRAIL_LENGTH 2  // Number of LEDs in the trail

CRGB leds[NUM_LEDS];

void setup() { 
    FastLED.addLeds<WS2812, DATA_PIN, GRB>(leds, NUM_LEDS);
    FastLED.clear();
}

void loop() { 
    // Turn all LEDs red initially
    for (int i = 0; i < NUM_LEDS; i++) {
        leds[i] = CRGB::Red;
    }

    // Move white LED from start to end with trailing effect
    for (int j = 0; j < NUM_LEDS; j++) {
        FastLED.clear();  // Clear all LEDs for smooth animation

        // Set the background red color again
        for (int i = 0; i < NUM_LEDS; i++) {
            leds[i] = CRGB::Red;
        }

        // Create a trailing effect with white color
        for (int k = 0; k < TRAIL_LENGTH; k++) {
            int index = j - k;  // Calculate trailing position
            if (index >= 0) {
                leds[index] = CRGB::White;
            }
        }

        FastLED.show();
        delay(100);  // Adjust speed of movement
    }

    // Move white LED back in reverse
    for (int j = NUM_LEDS - 1; j >= 0; j--) {
        FastLED.clear();

        for (int i = 0; i < NUM_LEDS; i++) {
            leds[i] = CRGB::Red;
        }

        for (int k = 0; k < TRAIL_LENGTH; k++) {
            int index = j + k;
            if (index < NUM_LEDS) {
                leds[index] = CRGB::White;
            }
        }

        FastLED.show();
        delay(100);
    }
}
